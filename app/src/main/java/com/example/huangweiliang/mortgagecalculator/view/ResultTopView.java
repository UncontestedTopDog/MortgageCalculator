package com.example.huangweiliang.mortgagecalculator.view;import android.content.Context;import android.util.AttributeSet;import android.widget.RelativeLayout;import android.widget.TextView;import com.example.huangweiliang.mortgagecalculator.R;import com.example.huangweiliang.mortgagecalculator.model.ResultData;import java.math.BigDecimal;public class ResultTopView extends RelativeLayout {    private TextView eachPay;    private TextView eachDecrease;    private TextView allInterest;    private TextView allPay;    private TextView allRepayment;    public ResultTopView(Context context) {        super(context);        initView();    }    public ResultTopView(Context context, AttributeSet attrs) {        super(context, attrs);        initView();    }    public ResultTopView(Context context, AttributeSet attrs, int defStyleAttr) {        super(context, attrs, defStyleAttr);        initView();    }    private void initView() {        inflate(getContext(), R.layout.result_top_item, this);        eachPay = (TextView) findViewById(R.id.each_pay);        eachDecrease = (TextView) findViewById(R.id.each_decrease);        allInterest = (TextView) findViewById(R.id.all_interest);        allPay = (TextView) findViewById(R.id.all_pay);        allRepayment = (TextView) findViewById(R.id.all_repayment);    }    public void setData(ResultData[][] resultDatas){        String[] topValue = new String[5];        topValue[0] = String.format("%.2f", resultDatas[0][0].getPay() + resultDatas[1][0].getPay());        topValue[1] = String.format("%.2f元",                resultDatas[0][0].getPay() + resultDatas[1][0].getPay()                        - resultDatas[0][1].getPay() - resultDatas[1][1].getPay());        topValue[2] = String.valueOf(resultDatas[0].length);        topValue[3] = String.format("%.2f万元",getAllInterest(resultDatas[0])+getAllInterest(resultDatas[1]));        topValue[4] = String.format("%.2f万元",getAllPay(resultDatas[0])+getAllPay(resultDatas[1]));        eachPay.setText(topValue[0]);        eachDecrease.setText(topValue[1]);        allRepayment.setText(topValue[2]);        allInterest.setText(topValue[3]);        allPay.setText(topValue[4]);    }    private double getAllInterest(ResultData[] resultDatas){        double interest = 0 ;        for (ResultData resultData: resultDatas){            interest+=resultData.getInterest();        }        return (interest/10000);    }    private double getAllPay(ResultData[] resultDatas) {        double pay = 0;        for (ResultData resultData : resultDatas) {            pay += resultData.getPay();        }        return (pay/10000);    }}